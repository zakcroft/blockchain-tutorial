ERC20 are contractss

https://www.youtube.com/watch?v=cqZhNzZoMh8

EIP ERC20
IERC20

openzeplin implementaion or ERC20

https://docs.openzeppelin.com/contracts/4.x/api/token/erc20#IERC20




https://www.toptal.com/ethereum/create-erc20-token-tutorial
https://medium.com/@austin_48503/%EF%B8%8Fethereum-dev-speed-run-bd72bcba6a4c

The ERC20 standard solves a significant problem, as blockchain-based marketplaces and crypto-wallets need a single, standardized set of commands to communicate with the range of tokens they manage. This includes interaction rules between different tokens, as well as token purchase rules.

It was the first popular specification to offer Ethereum token standardization. It was not by any means the first, but thanks to its popularity, it quickly became the industry standard.

Just like other Ethereum tokens, ERC20 tokens are implemented as smart contracts and executed on the Ethereum Virtual Machine (EVM) in a decentralized manner.


Put simply, the ERC20 standard defines a set of functions to be implemented by all ERC20 tokens so as to allow integration with other contracts, wallets, or marketplaces.


As its name suggests, the transfer function is used to move numTokens amount of tokens from the ownerâ€™s balance to that of another user, or receiver. The transferring owner is msg.sender i.e. the one executing the function, which implies that only the owner of the tokens can transfer them to others.


https://github.com/scaffold-eth/scaffold-eth


Complete
https://stermi.medium.com/how-to-create-an-erc20-token-and-a-solidity-vendor-contract-to-sell-buy-your-own-token-8882808dd905


Approve function
You are correct on every point !

The ERC-20, ERC-721 will only allow a holder to directly approve a spender for obvious logic and security reasons.


-- meeting

What is an ERC20 Token,
Defines set of functions for interations with other wallats and smart contract - standard.
It's a token contract as opposed to ETH which is inrinsic value of the blockchain.
On use of a smart contract
Other standards like erc-721 for NFTs 

Look at the app?
Look ar top level sol contracts.
Look at openzeplin.
Look at the IERC20

remember we have the msg.sender global variable. Cannot be overwritten, The msg.sender is always the latest contract or user that interacted with the contract.

totalSupply()
When create can be capped and you can mint.

balanceOf(account) - look at the erc20 code to see the mapping.
look at balanceof and is a mapping

.transfer() = called on the token so the msg.sender context is set.

These are different as they are about giving a third party app permission to use your tokens
allowance(owner, spender)

approve(spender, amount)

transferFrom(from, to, amount)  
- check there is an allowance and it has been approved.
- then just call transfer and use up the allowance.

Look at the Lottery token implementaion
Look at creation and mint tokens.
Added to balance mapping.

Look at the Lottery and then upto constructor.

---- 
Look at the migrations.
Take lottery token from lotteryToken address owner in mapping and transfer to lottery address.
explain the migration to lottery contract

Go through the lottery code.

 - Buy
transfer function uses _transfer and moves balances around.

msg.sender is always the account of the fn caller
- User call fn A on Contract A which calls fn b on Contract B
- so fn A is User and fn b is Contract A

Show drawing


 - Approve - the contract are not doing this its the FE.
Just call the lottery toekn from the FE on its own.

next functions are for giving control to third party addresses, either contracts or users. 
So letting another contract or user spend your token balance.

Why would you want to do this.
Maybe you want to set orders on an exchange so they can be sold automatically at a price.
So need the exchange to have that control.

approve - can only be done from the token and not a third party contract.
is a mapping in a mapping.
_allowances[owner][spender] = amount;

So if call from another contract the owner address is a contraxct and has no tokens.
So need to call approve from the token and this is a security feature.


enterLottery you need to approve first.

Show that the transferFrom(from, to, amount) is just spending anything that has been approved. Nothing approved they does nto spend.

allowance, 
Like balances and you can see the allowand set by approve

And then the spender can spend it.

transferFrom is a wrapper around _transfer so from one balance to the next.
transfer(address to, uint256 amount)
address owner = _msgSender();
_transfer(owner, to, amount);


Show FE.
web3react.


